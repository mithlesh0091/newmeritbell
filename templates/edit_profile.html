{% load static %}
<!doctype html>
<html lang="en">
	<head>
    <!--====== Required meta tags ======-->
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!--====== Title ======-->
    <title>Meritbell || College Register</title>
    <!--====== Favicon Icon ======-->
      <link rel="shortcut icon" href="assets/images/favicon.png" type="image/png">
    <!--====== Bootstrap css ======-->
    <link rel="stylesheet" href="{% static 'assets/css/bootstrap.min.css' %}">
    <!--====== Animate css ======-->
    <link rel="stylesheet" href="{% static 'assets/css/animate.css' %}">
    <!--====== Fontawesome css ======-->
    <link rel="stylesheet" href="{% static 'assets/css/font-awesome.min.css' %}">
    <!--====== Magnific Popup css ======-->
     <link rel="stylesheet" href="{% static 'assets/css/magnific-popup.css' %}">
    <!--====== Nice Select css ======-->
    <link rel="stylesheet" href="{% static 'assets/css/nice-select.css' %}">
    <!--====== Slick css ======-->
    <link rel="stylesheet" href="{% static 'assets/css/slick.css' %}">
    <!--====== Default css ======-->
   <link rel="stylesheet" href="{% static 'assets/css/default.css' %}">
    <!--====== Style css ======-->
    <link rel="stylesheet" href="{% static 'assets/css/style.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/card_design.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/styles.css' %}">
 	<link rel="stylesheet" href="{% static 'assets/css/customstyle.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/schools.css' %}">
    <!--====== Responsive css ======-->
    <link rel="stylesheet" href="assets/css/responsive.css">
	<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
	<link href="https://fonts.googleapis.com/css?family=Raleway:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">
	<!------ Include the above in your HEAD tag ---------->
    <!--====== Responsive css ======-->
		<style>
			.image-container {
            position: relative;
        }

        .image {
            opacity: 1;
            display: block;
            width: 100%;
            height: auto;
            transition: .5s ease;
            backface-visibility: hidden;
        }

        .middle {
            transition: .5s ease;
            opacity: 0;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            -ms-transform: translate(-50%, -50%);
            text-align: center;
        }

        .image-container:hover .image {
            opacity: 0.3;
        }

        .image-container:hover .middle {
            opacity: 1;
        }


		</style>
    <link rel="stylesheet" href="assets/css/responsive.css">
	<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());
		gtag('config', 'UA-153067337-1');
	</script>
</head>
<body style="overflow-x:hidden;">
    <!--====== PRELOADER PART START ======-->
    <div id="preloader">
        <div class="preloader">
            <span></span>
            <span></span>
        </div>
    </div>
    <!--====== PRELOADER PART ENDS ======-->
    <!--====== header ======-->
{% include "header.html" %}
{% if user.is_authenticated %}
	<!--======End Header ======-->
	<br><br><br><br><br><br><br>
	<section class="blog_list_page services">
		<div class="container">
				<div class="row">
					<div class="col-12">
						<div class="card" style="
    position: relative;
    display: -ms-flexbox;
    box-shadow: 5px 8px 21px #dee2e6;
    display: flex;
    -ms-flex-direction: column;
    flex-direction: column;
    min-width: 0;
    word-wrap: break-word;
    background-color: #fff;
    background-clip: border-box;
    border: 1px solid rgba(0,0,0,.125);
    border-radius: 10px;
">
							<div class="card-body">
								<div class="card-title mb-4">
								    {% if status %}
                                     <diva class="alert alert-primary">{{status}}</div>
                                    {% endif %}
                                    <form  action="{% url 'edit_profile' %}" method="post" enctype="multipart/form-data">
									       {% csrf_token %}
									<div class="d-flex justify-content-start">
										<div class="image-container">
										      <img src="{{request.user.customer.image.url}}" id="imgProfile" style="width: 150px; height: 150px" class="img-thumbnail" />

											<div class="middle">
												<input type="button" class="btn btn-secondary" id="btnChangePicture" value="" />
												<input type="file"  id="profilePicture" name="image" />
											</div>
										</div>
										<div class="userData ml-3">
											<h2 class="d-block" style="font-size: 1.5rem; font-weight: bold"><a href="javascript:void(0);">{{user.username}}</a></h2>
											<p class="d-block"> <strong>Email  :  </strong>{{user.email}}</p>
											<p class="d-block"> <strong>Contact Number :  </strong>{{data.phone_number}}</p>
											<br>
											<!---<a href="edit_profile.php"><div class="form-submit pull-left"><button type="submit"  name="submit" class="btn btn-primary"><i class="fa fa-pencil-square-o" aria-hidden="true"></i>
											Edit Profile <i class="icon-next"></i></button></div></a>-->
										</div>
										<div class="ml-auto">
											<input type="button" class="btn btn-primary d-none" id="btnDiscard" value="Discard Changes" />
										</div>
									</div>
								</div>
								<div class="row">
									<div class="col-12">

											<div class="row">
												<div class="col-md-6">
													<div class="single_form">
														<input type="text" name="first_name" placeholder="First Name" value="{{user.first_name}}">
													</div> <!-- single form -->
												</div>
												<div class="col-md-6">
													<div class="single_form">
														<input type="text" name="last_name" placeholder="Last Name" value="{{user.last_name}}">
													</div> <!-- single form -->
												</div>
												</div>
													<div class="row">
												<div class="col-md-6">
													<div class="single_form">
														<input type="text" name="username" placeholder="User Name" required=""  value="{{user.username}}">
													</div> <!-- single form -->
												</div>
												<div class="col-md-6">
													<div class="single_form">
														<input type="text" name="phone_number" placeholder="Phone number" required="" value="{{data.phone_number}}">
													</div> <!-- single form -->
												</div>
												</div>
													<div class="row">
												<div class="col-md-6">
													<div class="single_form">
														<input type="text" name="location" placeholder="Designation" required="" value="{{data.location}}">
													</div> <!-- single form -->
												</div>
													<div class="col-md-6">
													<div class="single_form">
														<input type="text" name="email" placeholder="email" required="" value="{{user.email}}">
													</div> <!-- single form -->
												</div>
												</div>
												<div class="row">
												<div class="col-md-6">
													<div class="single_form">
														<input type="password" placeholder="Password" required="" >
													</div> <!-- single form -->
												</div>
												<div class="col-md-6">
													<div class="single_form">
														<input type="password" placeholder="Confirm Password" required="">
													</div> <!-- single form -->
												</div>
												</div>

												<div class="col-md-12">
													<div class="single_form">
														<button class="main-btn">Update</button>
													</div> <!-- single form -->
												</div>
											</div> <!-- row -->
										</form>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
    </section>
	<br><br>
	{% endif %}
	<script>
			$(document).ready(function () {
            $imgSrc = $('#imgProfile').attr('src');
            function readURL(input) {

                if (input.files && input.files[0]) {
                    var reader = new FileReader();

                    reader.onload = function (e) {
                        $('#imgProfile').attr('src', e.target.result);
                    };

                    reader.readAsDataURL(input.files[0]);
                }
            }
            $('#btnChangePicture').on('click', function () {
                // document.getElementById('profilePicture').click();
                if (!$('#btnChangePicture').hasClass('changing')) {
                    $('#profilePicture').click();
                }
                else {
                    // change
                }
            });
            $('#profilePicture').on('change', function () {
                readURL(this);
                $('#btnChangePicture').addClass('changing');
                $('#btnChangePicture').attr('value', 'Confirm');
                $('#btnDiscard').removeClass('d-none');
                // $('#imgProfile').attr('src', '');
            });
            $('#btnDiscard').on('click', function () {
                // if ($('#btnDiscard').hasClass('d-none')) {
                $('#btnChangePicture').removeClass('changing');
                $('#btnChangePicture').attr('value', 'Change');
                $('#btnDiscard').addClass('d-none');
                $('#imgProfile').attr('src', $imgSrc);
                $('#profilePicture').val('');
                // }
            });
        });
		</script>
		<script>
			(function($) {
				'use strict';
				jQuery(document).on('ready', function(){
					$('a.page-scroll').on('click', function(e){
						var anchor = $(this);
						$('html, body').stop().animate({
							scrollTop: $(anchor.attr('href')).offset().top - 50
						}, 1500);
						e.preventDefault();
					});
				});
			})(jQuery);
		</script>
    <!--====== Blog List Page PART ENDS ======-->
    <!--====== Footer PART START ======-->
    <!--====== Footer PART START ======-->
	 <!--====== Blog List Page PART ENDS ======-->
    <!--====== Footer PART START ======-->

 {% include "footer.html" %}
    <!--====== Footer PART ENDS ======-->
	 <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

    <!--====== BACK TOP TOP PART START ======-->
    <a href="#" class="back-to-top"><i class="fa fa-chevron-up"></i></a>
    <!--====== BACK TOP TOP PART ENDS ======-->
    <!--====== jquery js ======-->
   <script src="{% static 'assets/js/vendor/modernizr-3.6.0.min.js' %}"></script>
	<script src="{% static 'assets/js/vendor/jquery-1.12.4.min.js' %}"></script>
    <!--====== Bootstrap js ======-->
    <script src="{% static 'assets/js/bootstrap.min.js' %}"></script>
    <script src="{% static 'assets/js/popper.min.js' %}"></script>
    <!--====== Slick js ======-->
     <script src="{% static 'assets/js/slick.min.js' %}"></script>
    <!--====== Magnific Popup js ======-->
     <script src="{% static 'assets/js/jquery.magnific-popup.min.js' %}"></script>
    <!--====== Counter Up js ======-->
     <script src="{% static 'assets/js/waypoints.min.js' %}"></script>
    <script src="{% static 'assets/js/jquery.counterup.min.js' %}"></script>
    <!--====== Nice Select js ======-->
    <script src="{% static 'assets/js/jquery.nice-select.min.js' %}"></script>
    <!--====== Count Down js ======-->
     <script src="{% static 'assets/js/jquery.countdown.min.js' %}"></script>
    <!--====== Appear js ======-->
      <script src="{% static 'assets/js/jquery.appear.min.js' %}"></script>
    <!--====== Main js ======-->
    <script src="{% static 'assets/js/main.js' %}"></script>
</body>
</html>
